"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[3956],{5934:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>a,contentTitle:()=>i,default:()=>h,frontMatter:()=>c,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"core-concepts/routing","title":"Routing","description":"We use React Router to manage routing.","source":"@site/docs/core-concepts/routing.md","sourceDirName":"core-concepts","slug":"/core-concepts/routing","permalink":"/docs/core-concepts/routing","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"tutorialSidebar","previous":{"title":"Core Concepts","permalink":"/docs/category/core-concepts"},"next":{"title":"API Integration","permalink":"/docs/core-concepts/api-Integration"}}');var r=t(4848),o=t(8453);const c={sidebar_position:1},i="Routing",a={},d=[{value:"Setup",id:"setup",level:2},{value:"Routes",id:"routes",level:2},{value:"Page Access Level",id:"page-access-level",level:2},{value:"Create a New Page",id:"create-a-new-page",level:2}];function l(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"routing",children:"Routing"})}),"\n",(0,r.jsxs)(n.p,{children:["We use ",(0,r.jsx)(n.a,{href:"https://reactrouter.com/",children:"React Router"})," to manage routing."]}),"\n",(0,r.jsx)(n.h2,{id:"setup",children:"Setup"}),"\n",(0,r.jsxs)(n.p,{children:["You can find the routing entry point in ",(0,r.jsx)(n.code,{children:"src/core/providers/router.tsx"})," whe we configure the ",(0,r.jsx)(n.code,{children:"Browser Router"})," and pass the created routes."]}),"\n",(0,r.jsx)(n.h2,{id:"routes",children:"Routes"}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"routes.ts"})," file is where we configure each route."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",metastring:'title="src/core/constants/routes.ts" {1,8,15}',children:'export const AUTH_ROUTES = {\n login: {\n  path: "/login",\n  Component: conditionalRedirect(Login, "no-auth"),\n },\n};\n\nexport const DASHBOARD_LAYOUT = {\n key: "mainDashboard",\n path: "/dashboard",\n Component: Layout,\n ErrorBoundary,\n};\n\nexport const DASHBOARD_ROUTES = {\n  tags: {\n   key: "tags",\n   path: "/dashboard/tags",\n   Component: conditionalRedirect(Tags, "auth"),\n  }\n}\n'})}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Segment"}),(0,r.jsx)(n.th,{children:"Role"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"AUTH_ROUTES"})}),(0,r.jsx)(n.td,{children:"Routes mainly used for non authenticated admins"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"DASHBOARD_LAYOUT"})}),(0,r.jsx)(n.td,{children:"The layout wrapping the dashboard (contains navbar, footer, etc.)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"DASHBOARD_ROUTES"})}),(0,r.jsxs)(n.td,{children:["Dashboard routes mainly for authenticated admins, and these routes' url will be prefixed by ",(0,r.jsx)(n.strong,{children:"/dashboard"})," then the route path"]})]})]})]}),"\n",(0,r.jsx)(n.h2,{id:"page-access-level",children:"Page Access Level"}),"\n",(0,r.jsxs)(n.p,{children:["As shown the previous examples, you can pass the access level along side your page to the ",(0,r.jsx)(n.code,{children:"conditionalRedirect"})," utility function."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",metastring:'title="src/core/constants/routes.ts" {4,11}',children:'export const AUTH_ROUTES = {\n login: {\n  path: "/login",\n  Component: conditionalRedirect(Login, "no-auth"),\n },\n};\n\nexport const DASHBOARD_ROUTES = {\n  tags: {\n   key: "tags",\n   path: "/dashboard/tags",\n   Component: conditionalRedirect(Tags, "auth"),\n  }\n}\n'})}),"\n",(0,r.jsxs)(n.p,{children:["The following ",(0,r.jsx)(n.strong,{children:"access values"})," are accepted:"]}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Name"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"no-auth"})}),(0,r.jsx)(n.td,{children:"Not authenticated admins only can visit this page, otherwise redirect to the dashboard main page"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"auth"})}),(0,r.jsx)(n.td,{children:"Only authenticated admins can access this page (whatever the role of the admin is), otherwise redirect to the login page"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"super-admin"})}),(0,r.jsx)(n.td,{children:"Only super admins are allowed to visit this page, otherwise force logout and redirect to the login page"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"ignore"})}),(0,r.jsx)(n.td,{children:"Ignore checking the auth status altogether (it's like allowing anyone)"})]})]})]}),"\n",(0,r.jsx)(n.h2,{id:"create-a-new-page",children:"Create a New Page"}),"\n",(0,r.jsx)(n.p,{children:"To create a new page you need to:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Add your page file in the ",(0,r.jsx)(n.code,{children:"src/core/pages"})," folder."]}),"\n",(0,r.jsxs)(n.li,{children:["Import your page component into ",(0,r.jsx)(n.code,{children:"src/core/constants/routes.ts"})]}),"\n",(0,r.jsxs)(n.li,{children:["Decide whether the page is an ",(0,r.jsx)(n.code,{children:"AUTH"})," or ",(0,r.jsx)(n.code,{children:"DASHBOARD"})," page."]}),"\n",(0,r.jsx)(n.li,{children:"Add your page's configuration object as shown for the other pages."}),"\n",(0,r.jsxs)(n.li,{children:["Specify the ",(0,r.jsx)(n.a,{href:"#page-access-level",children:"page access level"}),"."]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>c,x:()=>i});var s=t(6540);const r={},o=s.createContext(r);function c(e){const n=s.useContext(o);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:c(e.components),s.createElement(o.Provider,{value:n},e.children)}}}]);